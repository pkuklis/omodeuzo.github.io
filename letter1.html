<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Letter</title>
		<style>
			:root {
				--bg1: #1f1f1f;
				--bg2: #1f1f1f;
				--paper: #1f1f1f;
			}
			body {
				margin: 0;
				min-height: 100vh;
				display: grid;
				place-items: center;
				background: radial-gradient(1200px 700px at 30% 20%, var(--bg2), var(--bg1));
				font-family:
					system-ui,
					-apple-system,
					Segoe UI,
					Roboto,
					Arial,
					sans-serif;
				overflow-x: hidden;
			}

			.stage {
				perspective: 1200px;
				width: min(900px, 92vw);
				padding: 28px 0;
			}

			.sheet {
				background: linear-gradient(#fff8ea, var(--paper));
				border-radius: 14px;
				box-shadow:
					0 30px 80px rgba(0, 0, 0, 0.45),
					0 2px 0 rgba(255, 255, 255, 0.35) inset;
				transform-style: preserve-3d;
				transition: transform 0.12s ease-out;
				overflow: hidden;
				position: relative;
				will-change: transform;
			}

			/* subtle paper grain */
			.sheet::after {
				content: '';
				position: absolute;
				inset: 0;
				background-image:
					radial-gradient(circle at 20% 30%, rgba(0, 0, 0, 0.03), transparent 45%),
					radial-gradient(circle at 80% 70%, rgba(0, 0, 0, 0.025), transparent 50%),
					repeating-linear-gradient(0deg, rgba(0, 0, 0, 0.012), rgba(0, 0, 0, 0.012) 1px, transparent 1px, transparent 3px);
				mix-blend-mode: multiply;
				pointer-events: none;
			}

			/* the letter image */
			#letter {
				width: 100%;
				height: auto;
				display: block;
				transform: translateZ(30px);
				/* Optional “scan cleanup” — tweak or delete if you want raw scan */
				filter: contrast(1.03) brightness(1.02);
			}

			.hint {
				margin-top: 14px;
				color: rgba(255, 255, 255, 0.78);
				font-size: 14px;
				text-align: center;
				user-select: none;
			}

			@media (prefers-reduced-motion: reduce) {
				.sheet {
					transition: none;
				}
			}
		</style>
	</head>
	<body>
		<div class="stage" id="stage">
			<div class="sheet" id="sheet">
				<!-- Put letter1.jpg in the SAME folder as this .html -->
				<img id="letter" alt="Letter" src="letter1.jpg" />
			</div>
		</div>

		<script>
			const sheet = document.getElementById('sheet');
			const stage = document.getElementById('stage');

			function clamp(n, min, max) {
				return Math.max(min, Math.min(max, n));
			}

			function setTilt(x, y) {
				// x,y in [-1,1]
				const max = 9; // degrees
				const rx = (-y * max).toFixed(2);
				const ry = (x * max).toFixed(2);
				sheet.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`;
			}

			// Mouse tilt
			stage.addEventListener('mousemove', (e) => {
				const r = stage.getBoundingClientRect();
				const x = ((e.clientX - r.left) / r.width) * 2 - 1;
				const y = ((e.clientY - r.top) / r.height) * 2 - 1;
				setTilt(x, y);
			});

			stage.addEventListener('mouseleave', () => {
				sheet.style.transform = 'rotateX(0deg) rotateY(0deg)';
			});

			// Mobile tilt (works where supported; some browsers require user gesture permission)
			window.addEventListener(
				'deviceorientation',
				(e) => {
					if (e.gamma == null || e.beta == null) return;
					const x = clamp(e.gamma / 25, -1, 1);
					const y = clamp(e.beta / 25, -1, 1);
					setTilt(x, y);
				},
				true,
			);
		</script>
	</body>
</html>
